# Image-encryption
使用混沌系统加密图像，并将其作为水印嵌入到另一张载体图像中。解密过程通过逆向操作恢复出原图像，并计算图像质量。通过噪声攻击测试可以评估水印图像在各种干扰下的鲁棒性。
		ImageEncryption/
		│
		├── main.m                     % 主程序入口
		├── encryption.m               % 图像加密函数
		├── decryption.m               % 图像解密函数
		├── utils/                     % 工具文件夹
		│   ├── loadImage.m            % 图像加载函数
		│   ├── saveImage.m            % 图像保存函数
		│   └── plotImage.m            % 显示图像的辅助函数
		└── README.md                  % 程序使用文档

#  图像加密程序使用文档
	# 简介
	该程序实现了图像加密和解密的功能。利用加密算法对输入的图像进行加密，并可对加密后的图像进行解密。该程序基于 MATLAB 开发，包含了图像的读取、加密、解密和显示等主要功能。

# 程序结构
	# 程序文件包含以下几个部分：

		main.m：主程序入口，负责调用加密和解密功能。
		encryption.m：实现图像加密功能的函数。
		decryption.m：实现图像解密功能的函数。
		utils/：工具文件夹，包含图像加载、保存及显示的辅助函数。
	# 环境要求
	   MATLAB 版本：R2016a 或更高版本
	   依赖库：无
	# 安装步骤
	  下载并解压该程序包。
	   确保 MATLAB 环境已经正确安装。
	   将解压后的文件夹 ImageEncryption 导入 MATLAB。
	# 使用方法
	  加密图像
		  1.在 MATLAB 中打开 main.m 文件。
		  2.输入你要加密的图像路径：
			imgPath = 'path_to_image.jpg';  % 输入原始图像路径
		  3.调用 encryption.m 函数进行加密：
			encryptedImg = encryption(imgPath);  % 加密图像
		  4.可以保存加密后的图像：
			saveImage('encrypted_image.jpg', encryptedImg);  % 保存加密图像
      解密图像
		  1.调用 decryption.m 函数进行解密：
			decryptedImg = decryption('encrypted_image.jpg');  % 解密图像
		  2.保存解密后的图像：
			saveImage('decrypted_image.jpg', decryptedImg);  % 保存解密图像
	  图像显示
		  提供了一个辅助函数 plotImage.m 来显示图像：
			plotImage(decryptedImg);  % 显示解密后的图像
    # 函数说明
		encryption.m
		输入： 图像文件路径（字符串）。
		输出： 加密后的图像矩阵。
		功能说明： 该函数实现了对图像的加密操作，返回加密后的图像数据。

		decryption.m
		输入： 加密图像的文件路径（字符串）。
		输出： 解密后的图像矩阵。
		功能说明： 该函数实现了对加密图像的解密操作，返回解密后的图像数据。

		loadImage.m
		输入： 图像文件路径（字符串）。
		输出： 图像矩阵。
		功能说明： 该函数加载指定路径的图像并返回其矩阵数据。

		saveImage.m
		输入： 图像文件路径（字符串）、图像矩阵。
		输出： 无。
		功能说明： 该函数将图像矩阵保存为指定路径的文件。

		plotImage.m
		输入： 图像矩阵。
		输出： 无。
		功能说明： 该函数显示给定的图像矩阵。
		
		
	# main函数步骤概述
	1. 预处理
		图像读取与灰度化：首先使用 imread 读取原始图像，并通过 im2gray 转换为灰度图像。之后获取图像的行列数。
		小波变换与稀疏化：使用 Daubechies 小波 (daub(8)) 进行二维小波分解，并通过阈值 TS 进行稀疏化处理。
	2. 图像加密
		混沌映射：初始化混沌系统的参数，并生成一个混沌序列，用于加密过程中的置乱操作。
		测量矩阵生成：通过利用随机混沌映射生成测量矩阵（Phi），并使用奇异值分解（SVD）对矩阵进行优化。
		稀疏表示：对原始图像进行小波变换，并将其稀疏化，随后使用 Arnold 置乱对稀疏化后的系数进行置乱。
		图像压缩与量化：压缩后的图像通过 Phi 测量矩阵进行测量，并进行归一化和量化处理。
	3. 水印嵌入
		载体图像读取与小波变换：读取载体图像，并对其进行小波分解。
		水印嵌入：使用 LSB（最低有效位）编码将加密后的图像作为水印嵌入到载体图像的小波系数中。
		水印嵌入后的图像重建：通过逆小波变换重建嵌入水印后的图像。
	4. 性能评估
		SSIM 与 PSNR 计算：计算原始图像与解密图像之间的结构相似性指数（SSIM）与峰值信噪比（PSNR），评估图像质量。
	5. 水印提取与图像解密
		水印提取：从含水印的图像中提取水印，进行反置乱处理。
		图像解密：通过解密算法对加密的图像进行恢复，包括通过 SL0 重建算法和逆小波变换来恢复图像。
	6. 结果展示
		显示原始图像、压缩图像、解密图像及其质量评估（SSIM 和 PSNR）。
		
	关键函数
		daub(8)：生成 Daubechies 8 小波。
		NewMap：生成混沌序列。
		wpk2d：二维小波变换。
		enscramble_arnold：Arnold 置乱。
		LSB_Encode：嵌入水印的函数。
		PS：计算 SSIM 和 PSNR 的函数。
